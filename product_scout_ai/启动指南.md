# ProductScout AI 启动指南

## 问题解决总结

我已经分析并解决了您的启动脚本问题。主要问题包括：

### 1. ✅ 包导入问题
- **问题**: `google-adk`包的导入名称与包名不匹配
- **解决**: 修正了导入映射，使用正确的`google.adk`导入路径

### 2. ✅ Python路径问题
- **问题**: `src`目录不在Python路径中，导致无法导入`ui.app`
- **解决**: 添加了`src`目录到`sys.path`

### 3. ✅ 依赖包缺失
- **问题**: 缺少`plotly`、`pandas`等必要依赖
- **解决**: 安装了所有缺失的依赖包

### 4. ✅ Gradio版本兼容性
- **问题**: Gradio 6.x版本的API变化导致`theme`和`css`参数不被支持
- **解决**: 简化了Gradio配置，使用最小兼容版本

## 可用的启动脚本

### 方法1: 使用原始脚本（已修复）
```bash
python3 run_app.py
```

### 方法2: 使用新的简化启动脚本
```bash
python3 start_service.py
```

## 服务访问

成功启动后，您可以通过以下地址访问服务：
- **本地访问**: http://localhost:7860
- **网络访问**: http://0.0.0.0:7860

## 手动测试（如果脚本仍有问题）

如果启动脚本仍有问题，您可以手动测试：

```bash
# 1. 进入项目目录
cd /Users/admin/Project/AgentLearning/product_scout_ai

# 2. 安装依赖（如果需要）
pip install plotly pandas gradio google-adk google-generativeai

# 3. 手动启动最简化版本
python3 -c "
import sys, os
sys.path.insert(0, 'src')
import gradio as gr

def hello(name): return f'Hello {name}!'
app = gr.Interface(fn=hello, inputs='text', outputs='text')
app.launch(server_name='0.0.0.0', server_port=7860)
"
```

## 主要修复内容

### run_app.py 修复：
1. 修正包导入检查逻辑
2. 添加`src`目录到Python路径
3. 简化Gradio配置以兼容6.x版本

### start_service.py 新建：
1. 完整的依赖检查和安装
2. 最小化但功能完整的Gradio应用
3. 更好的错误处理和用户反馈

## 故障排除

如果服务无法启动：
1. 检查Python版本：`python3 --version`
2. 检查包安装：`pip list | grep -E "(gradio|google|plotly)"`
3. 检查端口占用：`lsof -i :7860`
4. 查看详细错误信息

## 注意事项

- 基础版本提供简单的产品分析界面
- 完整功能需要配置Google AI API密钥
- 服务启动后会占用终端，按`Ctrl+C`可停止服务